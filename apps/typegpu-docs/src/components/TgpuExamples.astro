---
import { Image } from "astro:assets";
import ExternalOpenSvg from "../assets/externalopen.svg";
import CausticsGif from "../assets/hero/caustics_bg.gif";
import RayMarchingGif from "../assets/hero/ray_march_bg.gif";
import PerlinGif from "../assets/hero/perlin_noise_bg.gif";
import FishGif from "../assets/hero/fish_bg.gif";
import ReflectionGif from "../assets/hero/reflection_bg.png";

import HoverExampleIsland from "./HoverExampleIsland";
import { reference } from "astro:content";

const galleryItems = [
	{
		asset: CausticsGif,
		title: "Caustics",
		exampleKey: "rendering--caustics",
	},
	{
		asset: ReflectionGif,
		title: "Reflection",
		exampleKey: "rendering--cubemap-reflection",
	},
	{
		asset: FishGif,
		title: "VaporRave",
		exampleKey: "simple--vaporrave",
	},
	{
		asset: RayMarchingGif,
		title: "Ray Marching",
		exampleKey: "rendering--ray-marching",
	},
	{
		asset: FishGif,
		title: "3D Fish",
		exampleKey: "rendering--3d-fish",
	},
	{
		asset: PerlinGif,
		title: "Perlin Noise",
		exampleKey: "rendering--perlin-noise",
	},
];
---

{/* Interactive gallery */}
<div class="gap-6 grid sm:grid-cols-2 xl:grid-cols-3">
	{
		galleryItems.map((item) => (
			<div class="group relative aspect-square overflow-hidden">
				<div class="bottom-1/40 inset-x-2 px-3 z-10 absolute flex items-center justify-between gap-3 bg-white h-16 text-blue-900">
					<span class="truncate font-medium text-sm max-w-[70%]">
						{item.title}
					</span>
					<a
						href={`/TypeGPU/examples/#example=${item.exampleKey}`}
						aria-label="Open examples list"
						class="flex items-center"
					>
						<img
							src={ExternalOpenSvg.src}
							alt="Open example"
							class="h-6 w-6 flex-shrink-0"
							loading="lazy"
						/>
					</a>
				</div>
				<Image
					src={item.asset}
					alt="TypeGPU Example"
					class="w-full h-full object-contain transition duration-300 ease-out"
				/>

				<div class="absolute inset-0 flex justify-center items-center opacity-0 group-hover:opacity-100 transition duration-300 ease-out pointer-events-none">
					<div class="backdrop-blur w-full h-full pointer-events-auto">
						<HoverExampleIsland
							client:visible
							exampleKey={item.exampleKey}
						/>
					</div>
				</div>
			</div>
		))
	}
</div>
