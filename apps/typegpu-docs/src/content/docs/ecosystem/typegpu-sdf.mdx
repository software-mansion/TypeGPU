---
title: "@typegpu/sdf"
---

The `@typegpu/sdf` package offers a set of [signed distance function](https://en.wikipedia.org/wiki/Signed_distance_function) utilities for use in TypeGPU and WebGPU projects.

## Example usage

By definition, signed distance functions return a distance from the given point to the boundary of a shape.
For example, the `sdf.sdDisk(point, radius)` returns the signed distance from the `point`, to a circle located at point (0, 0) of radius equal to `radius`.

- `sdf.sdDisk(d.vec2f(1, 0), 1)` is equal to 0.5,
- `sdf.sdDisk(d.vec2f(0.5, 0), 1)` is equal to 0,
- `sdf.sdDisk(d.vec2f(0, 0), 1)` is equal to -0.5.

:::note
Every shape is assumed to be located at position (0, 0).

Position, scale and translation of a shape can be adjusted by applying the inverse transformation to the position argument.
:::

Here is an example of a fragment shader that draws a disk of radius 0.25 on the center of a (assumedly square) canvas:

```ts twoslash
import tgpu from 'typegpu';
import * as d from 'typegpu/data';
import * as sdf from '@typegpu/sdf';

const mainFragment = tgpu['~unstable'].fragmentFn({
  in: { uv: d.vec2f },
  out: d.vec4f,
})(({ uv }) => {
  if (sdf.sdDisk(uv.sub(0.5), 0.25) < 0) {
    return d.vec4f(0, 0, 0, 1);
  }
  return d.vec4f(1, 1, 1, 0);
});
```

## Implemented functions

### 2D shapes

| Function | Signature |
|----------|-----------|
| `sdDisk` | `(point: vec2f, radius: f32) -> f32` |
| `sdBox2d` | `(point: vec2f, halfSize: vec2f) -> f32` |
| `sdRoundedBox2d` | `(point: vec2f, halfSize: vec2f, cornerRadius: f32) -> f32` |
| `sdLine` | `(point: vec2f, A: vec2f, B: vec2f) -> f32` |
| `sdPie` | `(point: vec2f, c: vec2f, radius: f32) -> f32` |
| `sdBezier` | `(point: vec2f, A: vec2f, B: vec2f, C: vec2f) -> f32` |
| `sdBezierApprox` | `(point: vec2f, A: vec2f, B: vec2f, C: vec2f) -> f32` |

### 3D shapes

| Function | Signature |
|----------|-----------|
| `sdSphere` | `(point: vec3f, radius: f32) -> f32` |
| `sdBox3d` | `(point: vec3f, halfSize: vec3f) -> f32` |
| `sdRoundedBox3d` | `(point: vec3f, halfSize: vec3f, cornerRadius: f32) -> f32` |
| `sdBoxFrame3d` | `(point: vec3f, halfSize: vec3f, thickness: f32) -> f32` |
| `sdLine3d` | `(point: vec3f, A: vec3f, B: vec3f) -> f32` |
| `sdPlane` | `(point: vec3f, normal: vec3f, height: f32) -> f32` |
| `sdCapsule` | `(point: vec3f, A: vec3f, B: vec3f, radius: f32) -> f32` |

### Operators

| Function | Signature |
|----------|-----------|
| `opUnion` | `(d1: f32, d2: f32) -> f32` |
| `opSmoothUnion` | `(d1: f32, d2: f32, k: f32) -> f32` |
| `opSmoothDifference` | `(d1: f32, d2: f32, k: f32) -> f32` |
| `opExtrudeX` | `(point: vec3f, dd: f32, halfHeight: f32) -> f32` |
| `opExtrudeY` | `(point: vec3f, dd: f32, halfHeight: f32) -> f32` |
| `opExtrudeZ` | `(point: vec3f, dd: f32, halfHeight: f32) -> f32` |

TODO: https://iquilezles.org/articles/distfunctions2d/
https://iquilezles.org/articles/distfunctions/

## Implemented utilities

TODO: list utilities
